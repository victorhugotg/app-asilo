<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Adicionar Relatório</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #e0f7fa;
            text-align: center;
        }
        .container {
            display: flex; /* Para alinhar os bonecos lado a lado */
            justify-content: space-around; /* Espaçamento entre os bonecos */
            margin: 20px 0; /* Margem superior e inferior */
        }

        .boneco {
            position: relative;
            width: 205px;
            height: 400px;
            border: 1px solid #ccc;
            overflow: hidden; /* Para garantir que nada saia do contêiner */
        }

        .boneco img {
            width: 100%; /* Faz a imagem ocupar toda a largura do contêiner */
            height: auto; /* Mantém a proporção da imagem */
            display: block; /* Remove espaços em branco abaixo da imagem */
        }

        .x {
            position: absolute;
            top: 10px; /* Ajuste a posição do "X" conforme necessário */
            left: 10px; /* Ajuste a posição do "X" conforme necessário */
            background-color: red; /* Cor de fundo do "X" */
            color: white; /* Cor do texto do "X" */
            text-align: center;
            line-height: 20px;
            border-radius: 100%;
            cursor: pointer; /* Cursor de arrastar */
        }
    </style>
</head>
<body>

<h2>Adicionar Relatório para {{ paciente.nome }}</h2>
<form action="" method="POST">
    <!-- Data e Responsável -->
    <label for="data">Data:</label>
    <input type="date" id="data" name="data" required><br><br>

    <label for="responsavel">Responsável (Nome e Função):</label>
    <input type="text" id="responsavel" name="responsavel" required><br><br>

    <!-- Sinais Vitais -->
    <h3>1. Sinais Vitais:</h3>
    <label for="pressao">Pressão Arterial:</label>
    <input type="text" id="pressao" name="pressao" required><br><br>

    <label for="frequencia_cardiaca">Frequência Cardíaca:</label>
    <input type="text" id="frequencia_cardiaca" name="frequencia_cardiaca" required><br><br>

    <label for="temperatura">Temperatura:</label>
    <input type="text" id="temperatura" name="temperatura" required><br><br>

    <label for="saturacao_oxigenio">Saturação de Oxigênio (%):</label>
    <input type="text" id="saturacao_oxigenio" name="saturacao_oxigenio" required><br><br>

    <label for="frequencia_respiratoria">Frequência Respiratória (rpm):</label>
    <input type="text" id="frequencia_respiratoria" name="frequencia_respiratoria" required><br><br>

    <!-- Integridade Cutânea -->
    <h4>Integridade Cutânea:</h4>
    <label for="pele_prejudicada">Pele Prejudicada:</label>
    <select id="pele_prejudicada" name="pele_prejudicada" required>
        <option value="Não">Não</option>
        <option value="Sim">Sim</option>
    </select><br><br>

    <label for="tipo_lesao">Tipo de Lesão de Pele:</label>
    <select id="tipo_lesao" name="tipo_lesao" required>
        <option value="Nenhuma">Nenhuma</option>
        <option value="Mácula">Mácula</option>
        <option value="Pápula">Pápula</option>
        <option value="Placa">Placa</option>
        <option value="Nódulo">Nódulo</option>
        <option value="Vesícula">Vesícula</option>
        <option value="Bolha">Bolha</option>
        <option value="Pústula">Pústula</option>
        <option value="Urticária">Urticária</option>
        <option value="Escama">Escama</option>
        <option value="Crosta">Crosta</option>
        <option value="Erosão">Erosão</option>
        <option value="Úlcera">Úlcera</option>
        <option value="Petéquia">Petéquia</option>
        <option value="Púrpura">Púrpura</option>
        <option value="Atrofia">Atrofia</option>
        <option value="Cicatriz">Cicatriz</option>
        <option value="Telangiectasia">Telangiectasia</option>
    </select><br><br>

    <label for="troca_curativo">Troca do Curativo:</label>
    <select id="troca_curativo" name="troca_curativo" required>
        <option value="Nenhum">Nenhum</option>
        <option value="Uma troca">Uma troca</option>
        <option value="Duas trocas">Duas trocas</option>
        <option value="Três trocas">Três trocas</option>
    </select><br><br>

    <!-- Seção do Boneco -->
    <h4>Identificação e Localização:</h4>
    <div class="container">
        <div class="boneco" id="boneco1">
            <img src="{{ url_for('static', filename='imagens/boneco.png') }}" alt="Boneco">
            <div class="x" draggable="true" ondragstart="drag(event)" id="x1">X</div>
        </div>
        <div class="boneco" id="boneco2">
            <img src="{{ url_for('static', filename='imagens/boneco_costas.png') }}" alt="Boneco">
            <div class="x" draggable="true" ondragstart="drag(event)" id="x2">X</div>
        </div>
        <div class="boneco" id="boneco3">
            <img src="{{ url_for('static', filename='imagens/boneca.png') }}" alt="Boneco">
            <div class="x" draggable="true" ondragstart="drag(event)" id="x3">X</div>
        </div>
        <div class="boneco" id="boneco4">
            <img src="{{ url_for('static', filename='imagens/boneca_costas.png') }}" alt="Boneco">
            <div class="x" draggable="true" ondragstart="drag(event)" id="x4">X</div>
        </div>
    </div>
    <p>Arraste o "X" e marque o local na Figura</p>

    <!-- Novo Tópico: Prescrição do Curativo -->
    <label for="prescricao_curativo">Prescrição do Curativo:</label><br>
    <textarea id="prescricao_curativo" name="prescricao_curativo" rows="4" cols="50" placeholder="Digite a prescrição do curativo aqui..."></textarea><br><br>

    <!-- Novo Tópico: Observações -->
    <label for="observacoes">Observações:</label><br>
    <textarea id="observacoes" name="observacoes" rows="4" cols="50" placeholder="Digite suas observações aqui..."></textarea><br><br>

    <!-- Estado Geral -->
    <h3>2. Estado Geral e Higiene:</h3>
    <label for="consciencia">Consciência:</label>
    <input type="text" id="consciencia" name="consciencia" required><br><br>

    <label for="dor">Dor (intensidade de 0 a 10):</label>
    <input type="text" id="dor" name="dor" required><br><br>

    <!-- Novos Campos de Estado Geral -->
    <label for="horario_dormir">Horário que foi dormir:</label>
    <input type="time" id="horario_dormir" name="horario_dormir"><br><br>

    <label for="horario_despertar">Horário que despertou:</label>
    <input type="time" id="horario_despertar" name="horario_despertar"><br><br>

    <label for="n_vezes_despertou">Número de vezes que despertou durante a noite:</label>
    <input type="text" id="n_vezes_despertou" name="n_vezes_despertou" placeholder="(minutos)"><br><br>

    <label for="tempo_dia">Tempo que dormiu durante o dia:</label>
    <input type="text" id="tempo_dia" name="tempo_dia" placeholder="Ex: 2 horas e 30 minutos"><br><br>

    <label for="queixa_falta_ar">Queixa de falta de ar:</label>
    <select id="queixa_falta_ar" name="queixa_falta_ar">
        <option value="Não">Não</option>
        <option value="Sim">Sim</option>
    </select><br><br>

    <label for="roncos">Apresenta roncos:</label>
    <select id="roncos" name="roncos">
        <option value="Não">Não</option>
        <option value="Sim">Sim</option>
    </select><br><br>

    <!-- Código para Higiene -->
    <h3> Higiene:</h3>
    <label for="banho_aspersao">Banho: </label>
    <select id="banho_aspersao" name="banho_aspersao">
        <option value="Banho sem auxílio">Banho sem auxílio</option>
        <option value="Banho de aspersão com Auxílio/Supervisão">Banho de aspersão com Auxílio/Supervisão</option>
        <option value="Banho de Aspersão em Cadeira Higiénica">Banho de Aspersão em Cadeira Higiénica</option>
        <option value="Banho no Leito">Banho no Leito</option>
    </select><br><br>

    <label for="cooperacao">Cooperação do Hóspede durante o Banho:</label>
    <select id="cooperacao" name="cooperacao">
        <option value="Não">Não</option>
        <option value="Sim">Sim</option>
    </select><br><br>

    <label for="quantidade_banhos">Quantidades de Banhos:</label>
    <select id="quantidade_banhos" name="quantidade_banhos">
        <option value="0 Banho">0 Banho</option>
        <option value="1 Banho">1 Banho</option>
        <option value="2 Banhos">2 Banhos</option>
        <option value="3 Banhos">3 Banhos</option>
        <option value="4 Banhos">4 Banhos</option>
    </select><br><br>

    <label for="troca_frauda">Troca de frauda/absorvente</label>
    <select id="troca_frauda" name="troca_frauda">
        <option value="Não usa/trocou">Não usa/trocou</option>
        <option value="1 troca">1 troca</option>
        <option value="2 trocas">2 trocas</option>
        <option value="3 trocas">3 trocas</option>
        <option value="4 trocas">4 trocas</option>
        <option value="5 trocas">5 trocas</option>
        <option value="6 trocas">6 trocas</option>
    </select><br><br>

    <h3>Higiene Oral</h3>

    <label for="Ao_acordar">Ao acordar</label>
    <select id="Ao_acordar" name="Ao_acordar">
        <option value="Não">Não</option>
        <option value="Sim">Sim</option>
    </select><br><br>
    
    <label for="Apos_almoço">Após almoço</label>
    <select id="Apos_almoço" name="Apos_almoço">
        <option value="Não">Não</option>
        <option value="Sim">Sim</option>
    </select><br><br>

    <label for="Antes_dormir">Antes de dormir</label>
    <select id="Antes_dormir" name="Antes_dormir">
        <option value="Não">Não</option>
        <option value="Sim">Sim</option>
    </select><br><br>
    
    <h3>Eliminações Intestinais</h3>

    <label for="Aspecto">Código A (Aspecto):</label>
    <select id="Aspecto" name="Aspecto">
        <option value="Moldada">Moldada</option>
        <option value="Pastosa">Pastosa</option>
        <option value="Semi-Pastosa">Semi-Pastosa</option>
        <option value="Líquida">Líquida</option>
    </select><br><br>

    <label for="Frequência">Código B (Frequência):</label>
    <select id="Frequência" name="Frequência">
        <option value="1 vez">1 vez</option>
        <option value="2 vezes">2 vezes</option>
        <option value="3 vezes">3 vezes</option>
        <option value="4 vezes">4 vezes</option>
    </select><br><br>

    <h3>Eliminações Vesicais</h3>

    <label for="Procedimento">Procedimento:</label>
    <select id="Procedimento" name="Procedimento">
        <option value="Frauda">Frauda</option>
        <option value="Sanitário">Sanitário</option>
        <option value="CVD - Caráter Vesical de Demora">CVD - Caráter Vesical de Demora</option>
        <option value="CVA - Caráter Vesical de Alívio">CVA - Caráter Vesical de Alívio</option>
    </select><br><br>

    <label for="Aspecto_vesical">Código A (Aspecto):</label>
    <select id="Aspecto_vesical" name="Aspecto_vesical">
        <option value="Amarelo">Amarelo</option>
        <option value="Amarelo Claro">Amarelo Claro</option>
        <option value="Amarelo Escuro">Amarelo Escuro</option>
        <option value="Avermelhada">Avermelhada</option>
        <option value="Marrom">Marrom</option>
        <option value="Esverdeada">Esverdeada</option>
    </select><br><br>

    <label for="Frequência_vesical">Código B (Frequência):</label>
    <select id="Frequência_vesical" name="Frequência_vesical">
        <option value="1 vez">1 vez</option>
        <option value="2 vezes">2 vezes</option>
        <option value="3 a 4 vezes">3 a 4 vezes</option>
        <option value="5 ou mais vezes">5 ou mais vezes</option>
    </select><br><br>

    <label for="Odor">Código C (Odor):</label>
    <select id="Odor" name="Odor">
        <option value="Sem cheiro">Sem cheiro</option>
        <option value="Odor Forte">Odor Forte</option>
        <option value="Odor Cetônico">Odor Cetônico</option>
    </select><br><br>

    <label for="quantidade_24h"> Quantidade 24 horas - CVC ou CVA (ml):</label>
        <input type="text" id="quantidade_24h" name="quantidade_24h" required><br><br>

    <!-- Registro de Refeições -->
    <h3>3. Alimentação:</h3>
    <div>
        <label for="tipo_alimentacao">Tipo de Alimentação:</label>
        <select id="tipo_alimentacao" name="tipo_alimentacao">
            <option value="">Selecione...</option>
            <option value="Sólida">Sólida</option>
            <option value="Pastosa">Pastosa</option>
            <option value="Semi-pastosa">Semi-pastosa</option>
        </select><br><br>

        <label for="dm">DM - Diabetes Mellitus:</label>
        <select id="dm" name="dm">
            <option value="Não">Não</option>
            <option value="Sim">Sim</option>
        </select><br><br>

        <label for="hipertensao">Hipertensão:</label>
        <select id="hipertensao" name="hipertensao">
            <option value="Não">Não</option>
            <option value="Sim">Sim</option>
        </select><br><br>

        <label for="irc">IRC - Insuficiência Renal Crônica:</label>
        <select id="irc" name="irc">
            <option value="Não">Não</option>
            <option value="Sim">Sim</option>
        </select><br><br>
    </div>
    <div>
        <label for="cafe_da_manha">Café da Manhã:</label>
        <select id="cafe_da_manha" name="cafe_da_manha">
            <option value="">Selecione...</option>
            <option value="1">Boa Aceitação</option>
            <option value="2">Aceitação Parcial</option>
            <option value="3">Recusa</option>
            <option value="4">Náuseas / Engasgo / Vômito</option>
        </select><br><br>

        <label for="colacao">Colação:</label>
        <select id="colacao" name="colacao">
            <option value="">Selecione...</option>
            <option value="1">Boa Aceitação</option>
            <option value="2">Aceitação Parcial</option>
            <option value="3">Recusa</option>
            <option value="4">Náuseas / Engasgo / Vômito</option>
        </select><br><br>

        <label for="almoco">Almoço:</label>
        <select id="almoco" name="almoco">
            <option value="">Selecione...</option>
            <option value="1">Boa Aceitação</option>
            <option value="2">Aceitação Parcial</option>
            <option value="3">Recusa</option>
            <option value="4">Náuseas / Engasgo / Vômito</option>
        </select><br><br>

        <label for="lanche">Lanche:</label>
        <select id="lanche" name="lanche">
            <option value="">Selecione...</option>
            <option value="1">Boa Aceitação</option>
            <option value="2">Aceitação Parcial</option>
            <option value="3">Recusa</option>
            <option value="4">Náuseas / Engasgo / Vômito</option>
        </select><br><br>

        <label for="jantar">Jantar:</label>
        <select id="jantar" name="jantar">
            <option value="">Selecione...</option>
            <option value="1">Boa Aceitação</option>
            <option value="2">Aceitação Parcial</option>
            <option value="3">Recusa</option>
            <option value="4">Náuseas / Engasgo / Vômito</option>
        </select><br><br>

        <label for="ceia">Ceia:</label>
        <select id="ceia" name="ceia">
            <option value="">Selecione...</option>
            <option value="1">Boa Aceitação</option>
            <option value="2">Aceitação Parcial</option>
            <option value="3">Recusa</option>
            <option value="4">Náuseas / Engasgo / Vômito</option>
        </select><br><br>
    </div>

    <!-- Quantidade de Água Ingerida -->
    <div>      
        <label for="consumo_categoria">Categoria de Consumo:</label>
        <select id="consumo_categoria" name="consumo_categoria" required>
            <option value="Menor que 500 mL">Consumo menor que 500 ml</option>
            <option value="Maior que 500 mL menor que 1 litro">Consumo maior que 500 ml e menor que 1 litro</option>
            <option value="Maior que 1 litro menor que 2 litros">Consumo maior que 1 litro e menor que 2 litros</option>
            <option value="Maior que 2 litros">Consumo maior que 2 litros</option>
        </select><br>
        <h4>Quantidade de Água que deve ser consumida por dia:</h4>
        <tr>Peso Corporal (Kg)</tr><br>
        <h4>50</h4><tr>
        <h4>x35 ml de Água</h4><tr>---------------------</tr><tr>
        <h4>1,8 Litros p/ dia</h4><br> 
    </div>

<!-- Nova Seção de Atividades -->
<h3>Atividades:</h3>
<label for="jardinagem"> Jardinagem:</label>
<select id="jardinagem" name="jardinagem">
    <option value="Não">Não</option>
    <option value="Sim">Sim</option>
</select><br><br>

<label for="caca_palavras">Caça Palavras:</label>
<select id="caca_palavras" name="caca_palavras">
    <option value="Não">Não</option>
    <option value="Sim">Sim</option>
</select><br><br>

<label for="jenga"> Jenga:</label>
<select id="jenga" name="jenga">
    <option value="Não">Não</option>
    <option value="Sim">Sim</option>
</select><br><br>

<label for="jogo_memoria"> Jogo da Memória:</label>
<select id="jogo_memoria" name="jogo_memoria">
    <option value="Não">Não</option>
    <option value="Sim">Sim</option>
</select><br><br>

<label for="roda_conversa"> Roda de Conversa:</label>
<select id="roda_conversa" name="roda_conversa">
    <option value="Não">Não</option>
    <option value="Sim">Sim</option>
</select><br><br>

<label for="leitura"> Leitura:</label>
<select id="leitura" name="leitura">
    <option value="Não">Não</option>
    <option value="Sim">Sim</option>
</select><br><br>

<label for="cine_jolie"> Cine Jolie:</label>
<select id="cine_jolie" name="cine_jolie">
    <option value="Não">Não</option>
    <option value="Sim">Sim</option>
</select><br><br>

<label for="atividade_digital"> Atividade Digital:</label>
<select id="atividade_digital" name="atividade_digital">
    <option value="Não">Não</option>
    <option value="Sim">Sim</option>
</select><br><br>

<label for="video_game"> Video Game:</label>
<select id="video_game" name="video_game">
    <option value="Não">Não</option>
    <option value="Sim">Sim</option>
</select><br><br>

<label for="culinaria"> Culinária:</label>
<select id="culinaria" name="culinaria">
    <option value="Não">Não</option>
    <option value="Sim">Sim</option>
</select><br><br>

<label for="outros"> Outros:</label>
<select id="outros" name="outros">
    <option value="">Selecione...</option>
    <option value="Sim">Sim</option>
    <option value="Não">Não</option>
</select><br><br>

    <!-- Medicamentos -->
    <h3>5. Medicamentos:</h3>
    <table>
        <thead>
            <tr>
                <th>Aprazamento/Horas</th>
                <th>Medicação</th>
                <th>Dose</th>
                <th>Via</th>
                <th>Situação</th>
            </tr>
        </thead>
        <tbody>
            {% for i in range(10) %}
            <tr>
                <td>
                    <select name="aprazamento{{ i }}">
                        <option value="">Selecione...</option>
                        <option value="Em Jejum">Em Jejum</option>
                        <option value="Antes do Almoço">Antes do Almoço</option>
                        <option value="Durante o Almoço">Durante o Almoço</option>
                        <option value="Antes do Jantar">Antes do Jantar</option>
                        <option value="08:00">08:00</option>
                        <option value="08:30">08:30</option>
                        <option value="09:00">09:00</option>
                        <option value="09:30">09:30</option>
                        <option value="10:00">10:00</option>
                        <option value="10:30">10:30</option>
                        <option value="11:00">11:00</option>
                        <option value="11:30">11:30</option>
                        <option value="12:00">12:00</option>
                        <option value="12:30">12:30</option>
                        <option value="13:00">13:00</option>
                        <option value="13:30">13:30</option>
                        <option value="14:00">14:00</option>
                        <option value="14:30">14:30</option>
                        <option value="15:00">15:00</option>
                        <option value="15:30">15:30</option>
                    </select>
                </td>
                <td>
                    <input type="text" name="medicacao{{ i }}" placeholder="Medicação">
                </td>
                <td>
                    <select name="dose{{ i }}">
                        <option value="">Selecione...</option>
                        <option value="AP/AMP">AP/AMP (ampola)</option>
                        <option value="CAP">CAP (cápsula)</option>
                        <option value="Col">Col (colírio)</option>
                        <option value="CP/comp">CP/comp (comprimido)</option>
                        <option value="CR">CR (creme)</option>
                        <option value="DG">DG (drágeas)</option>
                        <option value="ENV">ENV (envelope)</option>
                        <option value="FL">FL (flaconete)</option>
                        <option value="Gt/gts">Gt/gts (gotas)</option>
                        <option value="mcg">mcg (micrograma)</option>
                        <option value="mg">mg (miligrama)</option>
                        <option value="mL">mL (mililitro)</option>
                        <option value="NBZ">NBZ (nebulização)</option>
                        <option value="SF">SF (solução fisiológica)</option>
                        <option value="SG">SG (solução glicosada)</option>
                        <option value="SNE">SNE (sonda nasoenteral)</option>
                        <option value="SNG">SNG (sonda naso-gástrica)</option>
                        <option value="SP/Sup">SP/Sup (supositório)</option>
                        <option value="SY">SY (spray)</option>
                        <option value="TB">TB (tubo)</option>
                    </select>
                </td>
                <td>
                    <select name="via{{ i }}">
                        <option value="">Selecione...</option>
                        <option value="Via Oral - VO">Via Oral - VO</option>
                        <option value="Sublingual - SL">Sublingual - SL (sob a língua)</option>
                        <option value="Via Bucal">Via Bucal (entre a gengiva e a bochecha)</option>
                        <option value="Via Retal - VR">Via Retal - VR (no reto)</option>
                        <option value="Via Vaginal - VV">Via Vaginal - VV (na vagina)</option>
                        <option value="Intravenosa - IV">Intravenosa - IV (injetável na veia)</option>
                        <option value="Via Intra Muscular - IM">Via Intra Muscular - IM (injetável no músculo)</option>
                        <option value="Via Subcutânea - SC">Via Subcutânea - SC (injetável sob a pele)</option>
                        <option value="Hipodermóclise">Hipodermóclise</option>
                        <option value="Via Ocular">Via Ocular (no olho)</option>
                        <option value="Via Otológica">Via Otológica (no ouvido)</option>
                        <option value="Via Nasal">Via Nasal (no nariz)</option>
                        <option value="Via Inalatória">Via Inalatória (pela boca)</option>
                        <option value="Via por Nebulização - NBZ">Via por Nebulização - NBZ</option>
                        <option value="Via Cutânea - Tópico">Via Cutânea - Tópico (efeito local, aplicado na pele)</option>
                        <option value="Via Cutânea - Sistêmico">Via Cutânea - Sistêmico (aplicado na pele em todo o corpo)</option>
                        <option value="Via Transdérmica - TD">Via Transdérmica - TD (aplicado na pele, através de adesivo)</option>
                    </select>
                </td>
                <td>
                    <select name="situacao{{ i }}" id="situacao{{ i }}" onchange="updateStatusDot({{ i }})">
                        <option value="Por Administrar">Por Administrar</option>
                        <option value="Administrado">Administrado</option>
                    </select>
                    <span id="status-dot{{ i }}" class="status-dot" style="color: red;">&#9679;</span>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    <br><br>

    <!-- Observações Gerais -->
<h3>6. Observações:</h3>
<!--<textarea id="observacoes" name="observacoes" rows="4"></textarea><br><br>-->

<!-- Registro do Humor -->
<h4>Registro do Humor:</h4>
<table>
    <tr>
        <td>Lúcido e Orientado</td>
        <td>
            <select name="humor_lucido">
                <option value="Não">Não</option>
                <option value="Sim">Sim</option>
            </select>
        </td>
    </tr>
    <tr>
        <td>Letárgico</td>
        <td>
            <select name="humor_letargico">
                <option value="Não">Não</option>
                <option value="Sim">Sim</option>
            </select>
        </td>
    </tr>
    <tr>
        <td>Obnubilado</td>
        <td>
            <select name="humor_obnubilado">
                <option value="Não">Não</option>
                <option value="Sim">Sim</option>
            </select>
        </td>
    </tr>
    <tr>
        <td> Hiperalerta/Agitado</td>
        <td>
            <select name="humor_hiperalerta">
                <option value="Não">Não</option>
                <option value="Sim">Sim</option>
            </select>
        </td>
    </tr>
    <tr>
        <td> Cooperativo</td>
        <td>
            <select name="humor_cooperativo">
                <option value="Não">Não</option>
                <option value="Sim">Sim</option>
            </select>
        </td>
    </tr>
    <tr>
        <td> Comunicativo</td>
        <td>
            <select name="humor_comunicativo">
                <option value="Não">Não</option>
                <option value="Sim">Sim</option>
            </select>
        </td>
    </tr>
    <tr>
        <td> Agressivo</td>
        <td>
            <select name="humor_agressivo">
                <option value="Não">Não</option>
                <option value="Sim">Sim</option>
            </select>
        </td>
    </tr>
    <tr>
        <td> Choroso</td>
        <td>
            <select name="humor_choroso">
                <option value="Não">Não</option>
                <option value="Sim">Sim</option>
            </select>
        </td>
    </tr>
</table>

<!-- Registro do Lapsos de Memória -->
<h4>Registro do Lapsos de Memória:</h4>
<select id="registro_lapso_memoria" name="registro_lapso_memoria">
    <option value="Nenhum">Nenhum</option>
    <option value="Imediata (últimos 15 a 20 segundos)">Imediata (últimos 15 a 20 segundos)</option>
    <option value="Recente (últimos 5 a 30 minutos)">Recente (últimos 5 a 30 minutos)</option>
    <option value="Remota (últimas horas)">Remota (últimas horas)</option>
</select><br><br>

    <input type="hidden" id="localizacao" name="localizacao">

    <input type="submit" value="Salvar Relatório">
</form>

<a href="{{ url_for('ver_relatorios', cpf=paciente.cpf) }}">Voltar para Relatórios</a>

<script>
    function updateStatusDot(index) {
        const selectElement = document.getElementById(`situacao${index}`);
        const statusDot = document.getElementById(`status-dot${index}`);
        if (selectElement.value === "Administrado") {
            statusDot.style.color = "green";
        } else {
            statusDot.style.color = "red";
        }
    }

    function drag(ev) {
        ev.dataTransfer.setData("text", ev.target.id);
    }

    document.querySelectorAll('.boneco').forEach(boneco => {
        boneco.addEventListener('dragover', (ev) => {
            ev.preventDefault();
        });

        boneco.addEventListener('drop', (ev) => {
            ev.preventDefault();
            const data = ev.dataTransfer.getData("text");
            const xElement = document.getElementById(data);
            const rect = boneco.getBoundingClientRect();
            const x = ev.clientX - rect.left - (xElement.offsetWidth / 2);
            const y = ev.clientY - rect.top - (xElement.offsetHeight / 2);
            xElement.style.left = `${x}px`;
            xElement.style.top = `${y}px`;
            xElement.style.position = 'absolute';
            boneco.appendChild(xElement);

            // Atualiza a localização do X
            const localizacao = [];
            document.querySelectorAll('.x').forEach(x => {
                const boneco = x.parentElement.id;
                const rect = x.getBoundingClientRect();
                const bonecoRect = document.getElementById(boneco).getBoundingClientRect();
                const xPos = rect.left - bonecoRect.left; // Posição X relativa ao boneco
                const yPos = rect.top - bonecoRect.top;   // Posição Y relativa ao boneco
                localizacao.push({ boneco: boneco, x: xPos, y: yPos });
            });
            document.getElementById('localizacao').value = JSON.stringify(localizacao);
            console.log(localizacao); // Para ver as coordenadas no console
        });
    });
</script>

</body>
</html>